# ProWorks インフラコスト試算

## 📋 概要

本ドキュメントは、ProWorksアプリケーションのインフラコストについて、**GCP + SendGrid構成**と**AWS + Amazon SES構成**を比較したものです。

---

# Part 1: メール送信数の試算

## 1ユーザーあたり月間メール内訳

| メール種別 | 月間通数 | 計算根拠 |
|-----------|---------|---------|
| **全体お知らせ** | 2通 | 月2回、全ユーザーに配信 |
| **AIマッチ通知** | 5通 | 新規案件×対象率 → 週1〜2回程度 |
| **プロフィール未記入リマインド** | 1.2通 | 未記入者30%×週1回 |
| **案件応募・面談関連** | 3通 | 応募1.5+面談0.8+取消0.4+レコメンド0.3 |
| **その他** | 0.8通 | 新規登録0.15+パスワード0.1+問い合わせ0.1+他 |
| **合計** | **約12通** | |

## 累計ユーザー規模別・月間メール送信数

| 累計ユーザー数 | 月間メール送信数 |
|--------------|-----------------|
| 100人 | 約1,200通 |
| 500人 | 約6,000通 |
| 1,000人 | 約12,000通 |
| 3,000人 | 約36,000通 |
| 5,000人 | 約60,000通 |

---

# Part 2: メール送信サービスの料金比較

## SendGrid 料金（公式情報）

| プラン | 月額（税抜） | 上限通数 | 超過料金 |
|-------|------------|---------|---------|
| Free | ¥0 | 1日100通まで | - |
| **Essentials 50K** | **¥3,000** | 50,000通 | ¥0.200/通 |
| Essentials 100K | ¥5,400 | 100,000通 | ¥0.132/通 |

※ Free プランは1日100通制限のため、本試算では**カウント対象外**  
※ ミニマムスタートは **Essentials 50K（¥3,000/月）** から

### ミニマム運用時の料金計算

| 月間通数 | 計算式 | 月額 |
|---------|-------|------|
| 〜50,000通 | ¥3,000（定額） | **¥3,000** |
| 60,000通 | ¥3,000 + (10,000通 × ¥0.2) | **¥5,000** |

※ 60,000通の場合、Essentials 100K（¥5,400）より **50K + 超過（¥5,000）の方が安い**

---

## Amazon SES 料金（公式情報）

| 項目 | 料金 |
|------|------|
| 送信メール | **$0.10 / 1,000通**（= 1通あたり $0.0001） |
| 無料枠 | 3,000メッセージ/月 × 最初の12ヶ月 |

※ 為替レート: $1 = ¥150 で換算  
※ 1通あたり約 **¥0.015**（1,000通あたり ¥15）  
※ 長期運用を想定し、**無料枠は計算に含めない**

---

## メール送信コスト比較（確定値）

| 累計ユーザー | 月間通数 | SendGrid | Amazon SES | 差額 |
|-------------|---------|----------|------------|------|
| 100人 | 1,200通 | ¥3,000 | **¥18** | SES が ¥2,982 安い |
| 500人 | 6,000通 | ¥3,000 | **¥90** | SES が ¥2,910 安い |
| 1,000人 | 12,000通 | ¥3,000 | **¥180** | SES が ¥2,820 安い |
| 3,000人 | 36,000通 | ¥3,000 | **¥540** | SES が ¥2,460 安い |
| 5,000人 | 60,000通 | ¥5,000 | **¥900** | SES が ¥4,100 安い |

✅ **この表は公式料金に基づいており、確度の高い情報です**

---

# Part 3: コンピュート + データベースの料金

## ⚠️ 注意事項

Cloud Run / App Runner / Cloud SQL / RDS の月額は、**実際のトラフィック・CPU使用率・DBサイズに応じて変動**します。

以下は「**最小構成を常時稼働させた場合の概算**」であり、参考値としてお考えください。  
正式な見積もりは、リリース前に各社の Pricing Calculator で算出します。

---

## 料金体系（公式情報）

### Cloud Run（GCP）

| 項目 | 単価 | 無料枠 |
|------|------|-------|
| CPU | $0.000018 / vCPU秒 | 240,000 vCPU秒/月 |
| メモリ | $0.000002 / GiB秒 | 450,000 GiB秒/月 |
| リクエスト | - | 2,000,000回/月 |

**特徴**: スケールtoゼロ対応。低トラフィック時は無料枠内で収まる可能性あり。

### App Runner（AWS）

| 項目 | 単価 |
|------|------|
| vCPU | $0.081 / vCPU時間 |
| メモリ | $0.009 / GB時間 |

**最小構成（0.25 vCPU / 0.5 GB）× 720時間の参考試算**:
```
(0.25 × $0.081 + 0.5 × $0.009) × 720 ≒ $17.82 ≒ ¥2,700
```

### Cloud SQL / RDS

| サービス | 最小構成 | 概算月額 |
|---------|---------|---------|
| Cloud SQL | db-f1-micro (0.6GB) + 10GB SSD | ¥1,000〜2,000 |
| RDS PostgreSQL | db.t4g.micro (1GB) + 20GB gp2 | ¥1,500〜2,500 |

---

## コンピュート + DB 概算（参考値）

| 構成 | 内訳 | 月額概算 |
|------|------|---------|
| **GCP**（Cloud Run + Cloud SQL） | ¥1,000〜2,000 + ¥1,000〜2,000 | **¥2,000〜4,000** |
| **AWS**（App Runner + RDS） | ¥2,000〜3,000 + ¥1,500〜2,500 | **¥3,500〜5,500** |

※ 上記は最小構成・低トラフィック時の概算  
※ 実際の料金はトラフィック増加に伴い変動

---

# Part 4: トータルコスト比較

## 前提条件

| 項目 | 値 |
|------|---|
| メール送信数 | 1ユーザーあたり月12通 |
| 為替レート | $1 = ¥150 |
| コンピュート+DB | 概算中央値を使用（GCP: ¥3,000 / AWS: ¥4,500） |
| SES無料枠 | 長期運用想定のため無視 |

---

## 月額コスト比較表

| 累計ユーザー | メール数 | GCP + SendGrid | AWS + SES | 差額 |
|-------------|---------|----------------|-----------|------|
| | | コンピュート+DB: ¥2,000〜4,000 | コンピュート+DB: ¥3,500〜5,500 | |
| **100人** | 1,200通 | **¥5,000〜7,000** | **¥3,518〜5,518** | AWS が ¥1,500〜1,500 安い |
| **500人** | 6,000通 | **¥5,000〜7,000** | **¥3,590〜5,590** | AWS が ¥1,400〜1,400 安い |
| **1,000人** | 12,000通 | **¥5,000〜7,000** | **¥3,680〜5,680** | AWS が ¥1,300〜1,300 安い |
| **3,000人** | 36,000通 | **¥5,000〜7,000** | **¥4,040〜6,040** | AWS が ¥1,000〜1,000 安い |
| **5,000人** | 60,000通 | **¥7,000〜9,000** | **¥4,400〜6,400** | AWS が ¥2,600〜2,600 安い |

---

## 内訳詳細

### GCP + SendGrid構成

| 累計ユーザー | Cloud Run + Cloud SQL | SendGrid | **合計** |
|-------------|----------------------|----------|---------|
| 100人 | ¥2,000〜4,000 | ¥3,000 | **¥5,000〜7,000** |
| 500人 | ¥2,000〜4,000 | ¥3,000 | **¥5,000〜7,000** |
| 1,000人 | ¥2,000〜4,000 | ¥3,000 | **¥5,000〜7,000** |
| 3,000人 | ¥2,000〜4,000 | ¥3,000 | **¥5,000〜7,000** |
| 5,000人 | ¥2,000〜4,000 | ¥5,000 | **¥7,000〜9,000** |

### AWS + Amazon SES構成

| 累計ユーザー | App Runner + RDS | Amazon SES | **合計** |
|-------------|-----------------|------------|---------|
| 100人 | ¥3,500〜5,500 | ¥18 | **¥3,518〜5,518** |
| 500人 | ¥3,500〜5,500 | ¥90 | **¥3,590〜5,590** |
| 1,000人 | ¥3,500〜5,500 | ¥180 | **¥3,680〜5,680** |
| 3,000人 | ¥3,500〜5,500 | ¥540 | **¥4,040〜6,040** |
| 5,000人 | ¥3,500〜5,500 | ¥900 | **¥4,400〜6,400** |

---

## 年間コスト比較（概算中央値ベース）

| 累計ユーザー | GCP + SendGrid（年間） | AWS + SES（年間） | 年間差額 |
|-------------|----------------------|------------------|---------|
| 100人 | ¥72,000 | ¥54,216 | AWS が **¥17,784 安い** |
| 500人 | ¥72,000 | ¥55,080 | AWS が **¥16,920 安い** |
| 1,000人 | ¥72,000 | ¥56,160 | AWS が **¥15,840 安い** |
| 3,000人 | ¥72,000 | ¥60,480 | AWS が **¥11,520 安い** |
| 5,000人 | ¥96,000 | ¥64,800 | AWS が **¥31,200 安い** |

---

# Part 5: 結論

## コスト比較サマリー

```
┌─────────────────────────────────────────────────────────────────┐
│                    月額コスト比較（概算）                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  GCP + SendGrid    ████████████████████  ¥5,000〜9,000/月       │
│                                                                 │
│  AWS + SES         ██████████████        ¥3,500〜6,400/月       │
│                                                                 │
│                    ↑                                            │
│              AWS が約20〜30%安い                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

## コスト差の主な要因

| 要因 | GCP + SendGrid | AWS + SES |
|------|---------------|-----------|
| **メール送信** | 固定費（¥3,000〜5,000） | 従量課金（¥18〜900） |
| **コンピュート** | スケールtoゼロで安価 | 最小でも固定費あり |
| **データベース** | ほぼ同等 | ほぼ同等 |

**コスト差の最大要因は「メール送信サービス」**です。
- SendGrid: 最低でも月額 ¥3,000 の固定費
- Amazon SES: 完全従量課金で ¥18〜900

---

## 推奨

### コスト重視の場合 → **AWS + Amazon SES**

- メール送信コストで大きな差
- 5,000人規模で年間約 **¥31,200** の差額

### GCP継続が適切な場合

以下の場合はGCP + SendGrid継続も検討：

- 既存のGCPノウハウを活かしたい
- SendGridの高機能（バウンス管理、統計、テンプレート等）が必要
- 移行コスト（約20時間）を避けたい

---

## 補足: 料金情報の確度

| 項目 | 確度 | 備考 |
|------|-----|------|
| SendGrid料金 | ✅ 高い | 公式サイトで確認可能 |
| Amazon SES料金 | ✅ 高い | 公式サイトで確認可能 |
| Cloud Run / App Runner | ⚠️ 概算 | トラフィック依存、実測が必要 |
| Cloud SQL / RDS | ⚠️ 概算 | インスタンス・ストレージ依存 |

---

## 参考リンク

- [SendGrid 料金プラン](https://sendgrid.kke.co.jp/plan/)
- [Amazon SES 料金](https://aws.amazon.com/jp/ses/pricing/)
- [Cloud Run 料金](https://cloud.google.com/run/pricing)
- [AWS App Runner 料金](https://aws.amazon.com/jp/apprunner/pricing/)

---

*作成日: 2025年12月*  
*対象: ProWorks GCP vs AWS インフラコスト比較*
