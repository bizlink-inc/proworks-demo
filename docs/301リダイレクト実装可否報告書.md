# 301リダイレクト実装可否報告書

**作成日**: 2025年11月20日  
**対象プロジェクト**: ProWorks（start-proworks.com）  
**結論**: ✅ **実装可能です**

---

## 📌 結論（3行まとめ）

1. **現在の技術スタック（Next.js 16 + Cloud Run）で、301リダイレクトは完全に実装可能です**
2. **SEO評価の引き継ぎも問題なく動作し、Googleが正しく認識します**
3. **実装には先方の既存システム情報が必要なため、確認事項をご共有ください**

---

## 🎯 301リダイレクトとは？（非技術者向け）

簡単に言うと、**「お引っ越ししましたカード」を自動で配る仕組み**です。

例えば、旧サイトの `https://old-site.com/service` にアクセスした人を、  
新サイトの `https://new-site.com/service-new` に**自動的に転送**します。

### メリット
- ✅ ユーザーが古いリンクをクリックしても、新しいページに自動で飛ぶ
- ✅ Googleの検索評価（SEO）が新しいページに引き継がれる
- ✅ ブックマークや外部リンクが無駄にならない

---

## 🛠️ どうやって実装するか？（技術概要）

### 【パターンA】新システム内でのリダイレクト（推奨）

新システム（Next.js）の設定ファイルに、以下のようなルールを記述します。

```
旧URL: /old-service  →  新URL: /new-service（永久転送）
旧URL: /blog/:記事ID  →  新URL: /media/:記事ID（永久転送）
```

**特徴**：
- 設定ファイル1つで一元管理できる
- ビルド時に最適化され、高速に動作
- Cloud Runでも問題なく動作
- **実装工数: 1〜2日**（URL一覧が揃っていれば）

### 【パターンB】既存システム側でのリダイレクト

既存システム（start-proworks.com）から新システムへ飛ばす場合、  
既存システムのサーバー設定（.htaccessやnginx.confなど）にルールを追加します。

**特徴**：
- 既存システムの管理権限が必要
- サーバー環境によって設定方法が異なる（Apache/Nginx/WordPress等）
- 既存システムの保守担当者との連携が必要

---

## ✅ 実装の流れ（3ステップ）

### STEP 1: 旧URL・新URLの対照表を作成
Excelやスプレッドシートで、以下のような表を作成します。

| 旧URL（リダイレクト元） | 新URL（リダイレクト先） | 備考           |
| ----------------------- | ----------------------- | -------------- |
| /service                | /service-new            | サービスページ |
| /mypage                 | /dashboard              | マイページ     |
| /blog/article1          | /media/article1         | ブログ記事     |

### STEP 2: 設定ファイルに記述してビルド
対照表をもとに、システムの設定ファイルにリダイレクトルールを記述します。

### STEP 3: デプロイ後に動作確認
- 旧URLにアクセスして、新URLに自動転送されるかを確認
- Google Search Consoleで、Googleが301として認識しているかを確認

---

## 📋 先方に確認していただきたい事項

以下の情報をご共有いただけますでしょうか。

### 🔴 必須確認事項

#### 1. リダイレクトの方向性
- [ ] **既存システム → 新システム** へのリダイレクトですか？
  - 例: `old-domain.com/page` → `start-proworks.com/page`
- [ ] **新システム内での** URLリダイレクトですか？
  - 例: `start-proworks.com/old-page` → `start-proworks.com/new-page`
- [ ] **両方** 必要ですか？

#### 2. 既存システムの情報
- [ ] 既存システムのドメイン名
  - 例: `old-proworks.com`, `legacy.start-proworks.com` など
- [ ] 既存システムのサーバー環境
  - Apache / Nginx / WordPress / その他CMS / わからない
- [ ] 既存システムの管理者・保守担当者
  - 社内担当 / 外部業者 / わからない
- [ ] 既存システムへのアクセス権の有無
  - サーバー設定ファイル（.htaccess等）を編集できるか

#### 3. リダイレクト対象の範囲
- [ ] リダイレクトが必要なURLの一覧
  - 可能であれば、Excelやスプレッドシートでご共有ください
- [ ] 対象ページ数の概算
  - 10ページ未満 / 10〜50ページ / 50〜100ページ / 100ページ以上
- [ ] 特にSEO評価が高い重要ページ
  - 検索流入が多いページや、外部リンクが多いページ

#### 4. 新システムのURL設計
- [ ] 新システムでのURL構成は確定していますか？
  - 例: `/service`, `/dashboard`, `/projects/:id` など
- [ ] 旧URLと新URLの対応関係は決まっていますか？

### 🟡 追加確認事項（あれば教えてください）

- [ ] ドメイン移行のタイミング
  - 新旧システムを並行稼働させる期間はありますか？
- [ ] テスト環境の有無
  - リダイレクトのテストを本番前に実施できる環境はありますか？
- [ ] Google Search Consoleのアクセス権
  - リダイレクト後の確認のため、GSCの共有は可能ですか？
- [ ] 既存システムの技術仕様書
  - もしあれば、サーバー構成図やURL設計書をご共有ください

---

## 📊 実装パターン別の対応表

### パターン1: 新システム内でのリダイレクト（社内対応のみ）

| 項目           | 内容                                |
| -------------- | ----------------------------------- |
| **対応場所**   | 新システム（Next.js）の設定ファイル |
| **必要な情報** | 旧URL・新URLの対照表のみ            |
| **工数**       | 1〜2日（対照表が揃っていれば）      |
| **先方の作業** | 対照表の作成・確認のみ              |
| **メリット**   | 実装が早い / 社内で完結             |

### パターン2: 既存システムからのリダイレクト（既存システム側の設定が必要）

| 項目           | 内容                                           |
| -------------- | ---------------------------------------------- |
| **対応場所**   | 既存システムのサーバー設定                     |
| **必要な情報** | 既存システムのサーバー環境・アクセス権・対照表 |
| **工数**       | 2〜5日（既存システムの環境による）             |
| **先方の作業** | 既存システムの情報共有 / 保守担当者との連携    |
| **メリット**   | 既存ドメインからの流入も完全カバー             |

---

## 🚀 次のステップ

### 1. 確認事項の回答（先方作業）
上記「確認していただきたい事項」にご回答ください。

### 2. URL対照表の作成（先方・弊社協力）
既存URLリストと新URLリストを突き合わせて、対照表を作成します。

### 3. 実装・テスト（弊社作業）
対照表をもとに、リダイレクト設定を実装します。

### 4. 本番適用・検証（先方・弊社協力）
リリース後、動作確認とGoogle Search Consoleでの検証を行います。

---

## ❓ よくある質問

### Q1. 実装にどれくらいの期間がかかりますか？
**A.** 対照表が揃っていれば、**1〜2日で実装可能**です。テスト・検証含めて**3〜5日程度**を見込んでいます。

### Q2. 既存システムのサーバー情報がわからない場合は？
**A.** 既存システムの保守担当者（社内または外部業者）に確認をお願いします。もしくは、**新システム内でのリダイレクトのみ**で対応することも可能です。

### Q3. SEO評価は本当に引き継がれますか？
**A.** はい、301リダイレクトは**Googleが公式に推奨する方法**で、SEO評価が正しく引き継がれます。

### Q4. リダイレクトのテストはできますか？
**A.** 可能です。本番環境に適用する前に、テスト環境で動作確認を行います。

### Q5. 費用はどれくらいかかりますか？
**A.** 対照表の作成状況や対象ページ数によりますが、**追加費用は発生しない見込み**です（標準的なリダイレクト設定の範囲内）。大量のページ（100ページ以上）や複雑なルールが必要な場合は、別途お見積もりいたします。

---

## 📞 お問い合わせ

ご不明点やご質問があれば、お気軽にお申し付けください。

**担当**: 佐藤（開発担当）  
**作成日**: 2025年11月20日

