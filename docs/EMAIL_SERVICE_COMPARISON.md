# メール送信サービス比較レポート（顧客説明用）

## 📋 エグゼクティブサマリー

**結論**: GCP（Cloud Run）にはメール送信機能が含まれていないため、外部サービスの利用が必要です。

**推奨**: **SendGrid**（月12,000通まで無料）

---

## 1. GCPにメール送信サービスはあるのか？

### ❌ GCPには専用のメール送信サービスがない

| 質問 | 回答 |
|------|------|
| Cloud Run にメール送信機能は含まれる？ | **いいえ** |
| GCP 内で完結するメール送信サービスはある？ | **いいえ**（Gmail SMTP は制限あり） |
| 外部サービスが必要？ | **はい** |

### GCPで可能な方法と制限

| 方法 | 制限・問題点 |
|------|-------------|
| Gmail SMTP | 1日2,000通まで、大量送信でアカウント停止リスク |
| 独自SMTPサーバー構築 | ポート25がブロック、運用負荷が高い |
| **外部サービス利用** ⭐ | **推奨**：高到達率、運用負荷低 |

---

## 2. メール送信サービス比較

### 料金・機能比較表

| サービス | 無料プラン | 有料プラン開始 | GCPとの相性 | 特徴 |
|---------|-----------|--------------|------------|------|
| **SendGrid** ⭐ | **月12,000通無料** | 月額約2,300円〜 | ◎ Google推奨 | 高到達率、分析機能充実 |
| **Resend** | 月100通無料 | 月額約3,000円〜 | ○ | 開発者向け、実装が簡単 |
| **Mailjet** | 月6,000通無料 | 月額約1,500円〜 | ○ | 欧州系、審査が通りやすい |
| **Amazon SES** | 条件付き無料 | 約0.01円/通 | △ AWS前提 | 大量送信向け、設定複雑 |

### 想定利用量での月額コスト試算

**PRO WORKS の想定利用量**:
- 新規登録: 月100件程度
- パスワードリセット: 月50件程度
- メールアドレス変更: 月20件程度
- **合計: 月170通程度**

| サービス | 月額コスト | 備考 |
|---------|-----------|------|
| **SendGrid** | **¥0** | 12,000通まで無料 |
| Resend | ¥0（100通まで）/ ¥3,000〜 | 超過時は有料 |
| Mailjet | ¥0 | 6,000通まで無料 |
| Amazon SES | 約¥2 | 従量課金 |

---

## 3. 推奨サービス: SendGrid

### 選定理由

| 観点 | 評価 |
|------|------|
| **コスト** | ◎ 月12,000通まで完全無料（PRO WORKS の想定利用量で十分） |
| **GCP連携** | ◎ Google公式ドキュメントで推奨されている |
| **信頼性** | ◎ Twilio傘下、世界最大級のメール配信基盤 |
| **到達率** | ◎ 業界最高水準 |
| **日本語対応** | ○ ドキュメント・サポートあり |

### SendGrid 無料プラン詳細

| 項目 | 内容 |
|------|------|
| 月間送信数 | 12,000通 |
| 1日あたり上限 | 400通 |
| API利用 | ◎ 可能 |
| カスタムドメイン | ◎ 可能 |
| 送信ログ | 7日間保存 |
| 期間制限 | なし（永続的に無料） |

---

## 4. 顧客への説明ポイント

### 費用に関する説明

```
【PRO WORKS 運用費用（月額）】

1. GCP Cloud Run        : 約¥0〜¥3,000（利用量による）
2. GCP Cloud SQL        : 約¥2,000〜¥5,000
3. メール送信（SendGrid）: ¥0（無料枠内）
------------------------------------------
合計                    : 約¥2,000〜¥8,000/月

※ メール送信は月12,000通まで無料のため、
  通常運用では追加費用は発生しません。
```

### よくある質問への回答

**Q: なぜGCPだけで完結しないのですか？**
> A: GCPにはメール送信サービスがなく、Google自身も外部サービス（SendGrid等）の利用を推奨しています。これはセキュリティとメール到達率の観点から、専門サービスを使う方が適切だからです。

**Q: 追加費用は発生しますか？**
> A: SendGridの無料プラン（月12,000通）で運用するため、通常の利用では追加費用は発生しません。

**Q: 請求は別々になりますか？**
> A: SendGridは無料プランのため請求は発生しません。有料プランに移行した場合のみ、GCPとは別請求となります。

**Q: 障害時の影響は？**
> A: SendGridはSLA 99.95%を保証しており、信頼性は高いです。万一の障害時もメール送信のみが影響を受け、アプリケーション本体は動作し続けます。

---

## 5. 実装面での比較

### 現在の実装（Resend）からの移行工数

| 項目 | 工数 |
|------|------|
| SendGridアカウント作成 | 10分 |
| APIキー取得 | 5分 |
| コード修正 | 30分〜1時間 |
| テスト | 30分 |
| **合計** | **約1.5〜2時間** |

### 実装の複雑さ比較

| サービス | 実装難易度 | SDK/ライブラリ |
|---------|-----------|---------------|
| Resend | ◎ 非常に簡単 | `resend` |
| SendGrid | ○ 簡単 | `@sendgrid/mail` |
| Mailjet | ○ 簡単 | `node-mailjet` |
| Amazon SES | △ やや複雑 | `@aws-sdk/client-ses` |

---

## 6. 最終推奨

### 採用サービス: SendGrid ✅

**選定理由**:
- 月12,000通まで無料（想定利用量を大幅にカバー）
- Google公式推奨のため信頼性が高い
- 将来的なスケールにも対応
- GCPにはメール送信サービスがないため、外部サービスが必須

**実装済み**: 2025年12月

---

## 7. サービス別詳細情報

### Resend（現在採用中）

| 項目 | 内容 |
|------|------|
| 公式サイト | https://resend.com |
| 無料プラン | 月100通 |
| 有料プラン | $20/月（5,000通）〜 |
| 特徴 | 開発者向け、実装が最も簡単 |

### SendGrid（推奨）

| 項目 | 内容 |
|------|------|
| 公式サイト | https://sendgrid.com |
| 無料プラン | 月12,000通 |
| 有料プラン | 約2,300円/月（40,000通）〜 |
| 特徴 | Google推奨、高到達率、分析機能 |

### Mailjet

| 項目 | 内容 |
|------|------|
| 公式サイト | https://mailjet.com |
| 無料プラン | 月6,000通（1日200通まで） |
| 有料プラン | 約1,500円/月〜 |
| 特徴 | 欧州系、GDPR対応 |

---

## 📝 まとめ

1. **GCPにはメール送信サービスがない** → 外部サービス必須
2. **SendGridが最もコスパが良い** → 月12,000通まで無料
3. **現状のResendでも問題なし** → 月100通まで無料
4. **追加費用は基本的に発生しない** → 無料枠で十分

---

*作成日: 2025年12月*
*対象: PRO WORKS メール認証機能*

